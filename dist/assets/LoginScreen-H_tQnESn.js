import{j as s,r as d,L as u,u as g,a as x}from"./index-BuCNAESF.js";import{F as r,f as j,a as f,b as v,c as w,d as N,B as S,e as y,g as b}from"./LoginStyle-CDChfdj9.js";/* empty css                  */const E=({value:a,onChange:e})=>s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"email",children:[s.jsx(r,{icon:j,className:"icon-spacing"}),"E-mail"]}),s.jsxs("div",{className:"input-wrapper",children:[s.jsx("input",{type:"email",id:"email",name:"email",placeholder:"seu@exemplo.com",value:a,onChange:e,required:!0}),s.jsx(r,{icon:f,className:"input-icon"})]})]}),P=({value:a,onChange:e})=>{const[o,t]=d.useState(!1);return s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"password",children:[s.jsx(r,{icon:v,className:"icon-spacing"}),"Senha"]}),s.jsxs("div",{className:"input-wrapper",children:[s.jsx("input",{type:o?"text":"password",id:"password",name:"password",placeholder:"Digite sua senha",value:a,onChange:e,required:!0}),s.jsx("button",{type:"button",className:"toggle-password","aria-label":"Mostrar senha",onClick:()=>t(!o),children:s.jsx(r,{icon:o?w:N})})]})]})},k=({onSubmit:a})=>{const[e,o]=d.useState(""),[t,i]=d.useState(""),l=n=>{n.preventDefault(),a(e,t)};return s.jsxs("form",{id:"loginForm",method:"POST",onSubmit:l,children:[s.jsx(E,{value:e,onChange:n=>o(n.target.value)}),s.jsx(P,{value:t,onChange:n=>i(n.target.value)}),s.jsxs(S,{type:"submit",children:[s.jsx(r,{icon:y,className:"icon-spacing"}),"Entrar"]}),s.jsxs(u,{className:"link-register",to:"/forgot-password",children:[s.jsx(r,{icon:b,className:"icon-spacing"}),"Esqueci a senha"]})]})},T=()=>{const a=new Date().getFullYear(),e=g(),[o]=x(),t=o.get("type")??"client",i={attendant:"/api/login-attendant",client:"/api/login-client",professional:"/api/login-professional"};async function l(n,m){const p=i[t]||i.client;try{const c=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:m})});if(!c.ok){alert("Login inválido");return}const h=await c.json();localStorage.setItem("token",h.token),e("/dashboard")}catch(c){console.error("Erro ao logar:",c),alert("Erro ao conectar com o servidor")}}return s.jsxs("div",{className:"body-center",children:[s.jsx("div",{className:"logo-container floating"}),s.jsxs("main",{children:[s.jsxs("div",{className:"login-container",role:"form",children:[s.jsx("h2",{children:"HealthBooking"}),s.jsx(k,{onSubmit:l})]}),s.jsxs("footer",{children:[s.jsxs("p",{children:["Este sistema é uma reserva de ",s.jsx("a",{href:"#",children:"WebSaúde"}),". Todos os direitos reservados © ",a,"."]}),s.jsxs("p",{children:[s.jsxs("a",{href:"#",children:[s.jsx("i",{className:"fas fa-lock icon-spacing"}),"Política de Privacidade"]})," ","|",s.jsxs("a",{href:"#",children:[s.jsx("i",{className:"fas fa-file-alt icon-spacing"}),"Termos de Uso"]})]})]})]})]})};export{T as default};
